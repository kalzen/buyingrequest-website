import{U as p,a as u,j as i,u as J,b as G,r as w}from"./app-D4aBqzlN.js";import{A as X,i as O,e as Y,f as Z,g as ee}from"./admin-layout-DyUvxrGH.js";import{C as te,a as re,b as se,c as ne}from"./card-CnqQ7sDF.js";import{c as E,a as ie,b as oe,B as N}from"./createLucideIcon-B8qzjJx6.js";import{B as ae}from"./badge-DuSnTAMq.js";import{D as le,a as ce,b as de,c as ue}from"./dialog-f3HoShiT.js";import{I as D}from"./input-C753-yyu.js";import{L as C}from"./label-BRXxCv7x.js";import{R as he,P as pe}from"./index-DdFQR4RC.js";import{E as fe,a as me,P as ge,b as ve,i as xe,D as be,c as ye,S as Se,L as Ce}from"./index-D7Kgbbz5.js";import{a as je}from"./index-Ck002eg7.js";import{u as Ee}from"./index-BchD1Mol.js";import{T as _e}from"./textarea-am8W4vKe.js";import{T as we,a as Ne,b as U,c as k,d as De,e as P}from"./table-C9gZyUiZ.js";import{S as ke}from"./switch-F3j3KQn_.js";/* empty css            */import"./separator-IvonCTFO.js";import"./index-CMWG4mbA.js";import"./index-BIWZhckS.js";import"./file-text-DyvgBsj2.js";import"./users-uSGmoanE.js";import"./log-out-C4QDElmg.js";import"./index-Mt1L9CM9.js";import"./index-Q70sqziq.js";import"./Combination-CylSE1CH.js";import"./index-BCAvQnPw.js";import"./index-Bmj-vnSc.js";import"./index-DQA7YpGG.js";import"./index-CDlSuMYn.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Me=E("Bold",Pe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["path",{d:"M6 12h12",key:"8npq4p"}],["path",{d:"M6 20V4",key:"1w1bmo"}],["path",{d:"M18 20V4",key:"o2hl4u"}]],ze=E("Heading",Oe);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Te=E("Italic",Re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Le=E("ListOrdered",Ie);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Ae=E("List",Be);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],qe=E("Quote",Ve);function Ue(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var W={exports:{}},z={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F;function Fe(){if(F)return z;F=1;var n=p;function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:e,t=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function f(c,d){var m=d(),x=t({inst:{value:m,getSnapshot:d}}),h=x[0].inst,b=x[1];return o(function(){h.value=m,h.getSnapshot=d,a(h)&&b({inst:h})},[c,m,d]),s(function(){return a(h)&&b({inst:h}),c(function(){a(h)&&b({inst:h})})},[c]),l(m),m}function a(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!r(c,m)}catch{return!0}}function v(c,d){return d()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:f;return z.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:g,z}W.exports=Fe();var I=W.exports;const He=(...n)=>e=>{n.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},We=({contentComponent:n})=>{const e=I.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return p.createElement(p.Fragment,null,Object.values(e))};function $e(){const n=new Set;let e={};return{subscribe(r){return n.add(r),()=>{n.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,t){e={...e,[r]:he.createPortal(t.reactElement,t.element,r)},n.forEach(s=>s())},removeRenderer(r){const t={...e};delete t[r],e=t,n.forEach(s=>s())}}}class Ke extends p.Component{constructor(e){var r;super(e),this.editorContentRef=p.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((r=e.editor)===null||r===void 0)&&r.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const r=this.editorContentRef.current;r.append(...e.options.element.childNodes),e.setOptions({element:r}),e.contentComponent=$e(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(t=>t.hasContentComponentInitialized?t:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const r=document.createElement("div");r.append(...e.options.element.childNodes),e.setOptions({element:r})}render(){const{editor:e,innerRef:r,...t}=this.props;return p.createElement(p.Fragment,null,p.createElement("div",{ref:He(r,this.editorContentRef),...t}),e?.contentComponent&&p.createElement(We,{contentComponent:e.contentComponent}))}}const Qe=u.forwardRef((n,e)=>{const r=p.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return p.createElement(Ke,{key:r,innerRef:e,...n})}),Je=p.memo(Qe);var Ge=function n(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var t,s,o;if(Array.isArray(e)){if(t=e.length,t!=r.length)return!1;for(s=t;s--!==0;)if(!n(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!n(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(t=e.length,t!=r.length)return!1;for(s=t;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),t=o.length,t!==Object.keys(r).length)return!1;for(s=t;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=t;s--!==0;){var l=o[s];if(!(l==="_owner"&&e.$$typeof)&&!n(e[l],r[l]))return!1}return!0}return e!==e&&r!==r},Xe=Ue(Ge),$={exports:{}},R={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H;function Ye(){if(H)return R;H=1;var n=p,e=I;function r(v,g){return v===g&&(v!==0||1/v===1/g)||v!==v&&g!==g}var t=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,o=n.useRef,l=n.useEffect,f=n.useMemo,a=n.useDebugValue;return R.useSyncExternalStoreWithSelector=function(v,g,c,d,m){var x=o(null);if(x.current===null){var h={hasValue:!1,value:null};x.current=h}else h=x.current;x=f(function(){function B(y){if(!A){if(A=!0,M=y,y=d(y),m!==void 0&&h.hasValue){var S=h.value;if(m(S,y))return _=S}return _=y}if(S=_,t(M,y))return S;var q=d(y);return m!==void 0&&m(S,q)?S:(M=y,_=q)}var A=!1,M,_,V=c===void 0?null:c;return[function(){return B(g())},V===null?void 0:function(){return B(V())}]},[g,c,d,m]);var b=s(v,x[0],x[1]);return l(function(){h.hasValue=!0,h.value=b},[b]),a(b),b},R}$.exports=Ye();var Ze=$.exports;const et=typeof window<"u"?u.useLayoutEffect:u.useEffect;class tt{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const r=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},t=this.editor;return t.on("transaction",r),()=>{t.off("transaction",r)}}}}function rt(n){var e;const[r]=u.useState(()=>new tt(n.editor)),t=Ze.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:Xe);return et(()=>r.watch(n.editor),[n.editor,r]),u.useDebugValue(t),t}const st=!1,T=typeof window>"u",nt=T||!!(typeof window<"u"&&window.next);class L{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?T||nt?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...t)=>{var s,o;return(o=(s=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(s,...t)},onBlur:(...t)=>{var s,o;return(o=(s=this.options.current).onBlur)===null||o===void 0?void 0:o.call(s,...t)},onCreate:(...t)=>{var s,o;return(o=(s=this.options.current).onCreate)===null||o===void 0?void 0:o.call(s,...t)},onDestroy:(...t)=>{var s,o;return(o=(s=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(s,...t)},onFocus:(...t)=>{var s,o;return(o=(s=this.options.current).onFocus)===null||o===void 0?void 0:o.call(s,...t)},onSelectionUpdate:(...t)=>{var s,o;return(o=(s=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(s,...t)},onTransaction:(...t)=>{var s,o;return(o=(s=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(s,...t)},onUpdate:(...t)=>{var s,o;return(o=(s=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(s,...t)},onContentError:(...t)=>{var s,o;return(o=(s=this.options.current).onContentError)===null||o===void 0?void 0:o.call(s,...t)},onDrop:(...t)=>{var s,o;return(o=(s=this.options.current).onDrop)===null||o===void 0?void 0:o.call(s,...t)},onPaste:(...t)=>{var s,o;return(o=(s=this.options.current).onPaste)===null||o===void 0?void 0:o.call(s,...t)}};return new fe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(t=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(t)?!0:t==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,o)=>{var l;return s===((l=r.extensions)===null||l===void 0?void 0:l[o])}):e[t]===r[t])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?L.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((t,s)=>t===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function it(n={},e=[]){const r=u.useRef(n);r.current=n;const[t]=u.useState(()=>new L(r)),s=I.useSyncExternalStore(t.subscribe,t.getEditor,t.getServerSnapshot);return u.useDebugValue(s),u.useEffect(t.onRender(e)),rt({editor:s,selector:({transactionNumber:o})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&o===0?0:o+1}),s}const ot=u.createContext({editor:null});ot.Consumer;const at=u.createContext({onDragStart:void 0}),lt=()=>u.useContext(at);p.forwardRef((n,e)=>{const{onDragStart:r}=lt(),t=n.as||"div";return p.createElement(t,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...n.style}})});const ct=me.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ge({key:new ve("placeholder"),props:{decorations:({doc:n,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:t}=e,s=[];if(!r)return null;const o=this.editor.isEmpty;return n.descendants((l,f)=>{const a=t>=f&&t<=f+l.nodeSize,v=!l.isLeaf&&xe(l);if((a||!this.options.showOnlyCurrent)&&v){const g=[this.options.emptyNodeClass];o&&g.push(this.options.emptyEditorClass);const c=be.node(f,f+l.nodeSize,{class:g.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:f,hasAnchor:a}):this.options.placeholder});s.push(c)}return this.options.includeChildren}),ye.create(n,s)}}})]}});var K="Toggle",Q=u.forwardRef((n,e)=>{const{pressed:r,defaultPressed:t,onPressedChange:s,...o}=n,[l,f]=Ee({prop:r,onChange:s,defaultProp:t??!1,caller:K});return i.jsx(pe.button,{type:"button","aria-pressed":l,"data-state":l?"on":"off","data-disabled":n.disabled?"":void 0,...o,ref:e,onClick:je(n.onClick,()=>{n.disabled||f(!l)})})});Q.displayName=K;var dt=Q;const ut=oe("inline-flex items-center justify-center gap-2 rounded-md text-sm font-medium hover:bg-muted hover:text-muted-foreground disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] outline-none transition-[color,box-shadow] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-xs hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-2 min-w-9",sm:"h-8 px-1.5 min-w-8",lg:"h-10 px-2.5 min-w-10"}},defaultVariants:{variant:"default",size:"default"}});function j({className:n,variant:e,size:r,...t}){return i.jsx(dt,{"data-slot":"toggle",className:ie(ut({variant:e,size:r,className:n})),...t})}function ht({value:n,onChange:e,placeholder:r}){const t=it({extensions:[Se.configure({heading:{levels:[2,3,4]},bulletList:{keepMarks:!0},orderedList:{keepMarks:!0}}),Ce.configure({openOnClick:!1,autolink:!0}),ct.configure({placeholder:r??"Write your content..."})],content:n??void 0,editorProps:{attributes:{class:"prose prose-invert max-w-none min-h-[240px] text-base focus:outline-none"}},onUpdate({editor:s}){e?.(s.getJSON())}});return u.useEffect(()=>{t&&n&&t.commands.setContent(n)},[t]),t?i.jsxs("div",{className:"rounded-xl border border-white/10 bg-neutral-900/40",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 border-b border-white/10 px-3 py-2",children:[i.jsx(j,{size:"sm",pressed:t.isActive("bold"),onPressedChange:()=>t.chain().focus().toggleBold().run(),"aria-label":"Bold",children:i.jsx(Me,{className:"size-4"})}),i.jsx(j,{size:"sm",pressed:t.isActive("italic"),onPressedChange:()=>t.chain().focus().toggleItalic().run(),"aria-label":"Italic",children:i.jsx(Te,{className:"size-4"})}),i.jsx(j,{size:"sm",pressed:t.isActive("heading",{level:2}),onPressedChange:()=>t.chain().focus().toggleHeading({level:2}).run(),"aria-label":"Heading",children:i.jsx(ze,{className:"size-4"})}),i.jsx(j,{size:"sm",pressed:t.isActive("bulletList"),onPressedChange:()=>t.chain().focus().toggleBulletList().run(),"aria-label":"Bulleted list",children:i.jsx(Ae,{className:"size-4"})}),i.jsx(j,{size:"sm",pressed:t.isActive("orderedList"),onPressedChange:()=>t.chain().focus().toggleOrderedList().run(),"aria-label":"Numbered list",children:i.jsx(Le,{className:"size-4"})}),i.jsx(j,{size:"sm",pressed:t.isActive("blockquote"),onPressedChange:()=>t.chain().focus().toggleBlockquote().run(),"aria-label":"Quote",children:i.jsx(qe,{className:"size-4"})})]}),i.jsx("div",{className:"px-4 py-3",children:i.jsx(Je,{editor:t})})]}):null}function Ut(){const{props:n}=J(),[e,r]=u.useState(!1),t=G({title:"",slug:"",subtitle:"",hero_image_url:"",hero_cta_label:"",hero_cta_route:"pages.show",excerpt:"",content:null,status:"draft",meta_title:"",meta_description:"",meta:{}});u.useEffect(()=>{if(n.editingPage){const a=n.editingPage;t.setData({title:a.title,slug:a.slug,subtitle:a.subtitle??"",hero_image_url:a.hero_image_url??"",hero_cta_label:a.hero_cta_label??"",hero_cta_route:a.hero_cta_route??"pages.show",excerpt:a.excerpt??"",content:a.content??null,status:a.status,meta_title:a.meta_title??"",meta_description:a.meta_description??"",meta:a.meta??{}}),r(!0)}},[n.editingPage]);const s=()=>{w.get(O(),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{t.reset(),t.setData("status","draft"),r(!0)}})},o=a=>{w.get(O(),{edit:a.id},{preserveState:!0,preserveScroll:!0})},l=()=>{const a={...t.data,content:t.data.content??void 0};n.editingPage?t.transform(()=>a).put(Y(n.editingPage.id),{preserveScroll:!0,onSuccess:()=>r(!1)}):t.transform(()=>a).post(Z(),{preserveScroll:!0,onSuccess:()=>r(!1)})},f=a=>{w.delete(ee(a),{preserveScroll:!0})};return i.jsxs(X,{title:"Pages",children:[i.jsxs(te,{className:"border-white/10 bg-neutral-900/70",children:[i.jsxs(re,{className:"flex items-center justify-between",children:[i.jsx(se,{className:"text-sm text-neutral-300",children:"Content pages"}),i.jsx(N,{size:"sm",onClick:s,children:"New page"})]}),i.jsx(ne,{children:i.jsxs(we,{children:[i.jsx(Ne,{children:i.jsxs(U,{children:[i.jsx(k,{children:"Title"}),i.jsx(k,{children:"Status"}),i.jsx(k,{children:"Updated"}),i.jsx(k,{})]})}),i.jsx(De,{children:n.pages.data.map(a=>i.jsxs(U,{children:[i.jsxs(P,{children:[i.jsx("div",{className:"font-medium text-neutral-200",children:a.title}),i.jsxs("div",{className:"text-xs text-neutral-500",children:["/",a.slug]})]}),i.jsx(P,{children:i.jsx(ae,{variant:"secondary",className:a.status==="published"?"bg-emerald-500/20 text-emerald-300":"bg-neutral-700 text-neutral-200",children:a.status})}),i.jsx(P,{className:"text-sm text-neutral-400",children:a.updated_at??"�"}),i.jsxs(P,{className:"flex gap-2",children:[i.jsx(N,{size:"sm",variant:"secondary",onClick:()=>o(a),children:"Edit"}),i.jsx(N,{size:"sm",variant:"ghost",className:"text-red-300 hover:bg-red-500/10",onClick:()=>f(a.id),children:"Delete"})]})]},a.id))})]})})]}),i.jsx(le,{open:e,onOpenChange:a=>{r(a),a||w.get(O(),{},{preserveScroll:!0,preserveState:!0,only:["pages","editingPage"]})},children:i.jsxs(ce,{className:"max-w-3xl border-white/10 bg-neutral-900 text-white",children:[i.jsx(de,{children:i.jsx(ue,{className:"text-lg font-semibold",children:n.editingPage?"Edit page":"Create page"})}),i.jsxs("div",{className:"grid gap-3",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{htmlFor:"title",children:"Title"}),i.jsx(D,{id:"title",value:t.data.title,onChange:a=>t.setData("title",a.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{htmlFor:"slug",children:"Slug"}),i.jsx(D,{id:"slug",value:t.data.slug,onChange:a=>t.setData("slug",a.target.value),placeholder:"Auto-generated when blank"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{htmlFor:"excerpt",children:"Excerpt"}),i.jsx(_e,{id:"excerpt",value:t.data.excerpt??"",onChange:a=>t.setData("excerpt",a.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{children:"Content"}),i.jsx(ht,{value:t.data.content,onChange:a=>t.setData("content",a)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{htmlFor:"heroImage",children:"Hero image URL"}),i.jsx(D,{id:"heroImage",value:t.data.hero_image_url??"",onChange:a=>t.setData("hero_image_url",a.target.value)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(C,{htmlFor:"ctaLabel",children:"CTA label"}),i.jsx(D,{id:"ctaLabel",value:t.data.hero_cta_label??"",onChange:a=>t.setData("hero_cta_label",a.target.value)})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ke,{checked:t.data.status==="published",onCheckedChange:a=>t.setData("status",a?"published":"draft")}),i.jsx("span",{className:"text-sm text-neutral-300",children:"Published"})]}),i.jsx(N,{onClick:l,disabled:t.processing,children:n.editingPage?"Save changes":"Create page"})]})]})]})})]})}export{Ut as default};
